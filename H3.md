## H3 Aaltoja harjaamassa

### x) Lue ja tiivistä

> Hubacek 2019: Universal Radio Hacker SDR Tutorial on 433 MHz radio plugs
- Videossa käytettiin URH (Universal Radio Hacker), Spectrum Analyzer (testasi oliko taajuus oikein) ja Record Signal työkalua, jolla tallensi säätimen "on" näppäimen signaalia.
- Tallensi ja alkoi analysoimaan. Maalasi esim. bitin ja varmisti, että auto-detect oli ottanut bit-length oikein. Error tolerancea voi muokata jos bitit eivät ole kohdistunut hyvin.
- Demoduloi ja näyttää signaalin bitteinä ja hex-muotona.

> Cornelius 2022: Decode 433.92 MHz weather station data
- Kirjoittaja oli hankkinut simppelin sääaseman ja dekoodasi rtl_433:lla. Donglena toimi RTL2832U. Sääasemasta oli tietoina vain taajuus 433.92 MHz.
- Käyttämällä URH, nauhoitti signaalia.
- Demoduloi signaalin ja analysoi.
- Lopussa digitaalista analyysiä. Huomasi, että ensimmäisestä ja viimeisestä viestistä puuttuu bittejä.

### a) WebSDR

Tutkin eri WebSDR ja päädyin sivuston http://websdr.ewi.utwente.nl:8901/ sivustoon (oli ensimmäisenä niin miksi ei), joka sijaitsee ALankomaat University of Twente. Säätelin eri asetuksia kuten waterfall kirkkautta. Laitoin amplitudimodulaation ja lähdin etsimään watefallista taajuutta, josta kuuluisi jotain katsomalla kirkkaasti erottuvia kohtia (signaalia paljon?). Tutkiessani huomasin,että waterfallissa näkyy onko broadcast vai amatööri radiotaajuuden segmentti. Löysin lopulta taajuuden mistä kuului Kiinalaista musiikkia/puhetta ja painamalla Waterfall zoomia, sieltä paljastuikin, että kyseessä on CHN China Radio Int. Taajuus oli 9575kHz eli aallonpituudeksi tulisi valonnopeus/taajuus= noin. 31.3metriä. Hienosäädin vielä filterillä kaistanleveyttä saadakseni siitä mahdollisimman selvänkuuloisen, mutta silti tuli pätkimisiä, vaikka manuaalisestikkin yritin säädellä waterfall kohdassa. 

![kuva](https://github.com/user-attachments/assets/d05f7c97-3476-43ac-99df-89366fc83c70)

### b) rtl_433

Asensin rtl_433 komennolla `sudo apt-get install rtl-433`. Kokeilin ensin `rtl_433`, mutta se ei toiminut (Tero Karvisen sivuilla oleva komento). Testasin toimiiko komennolla `rtl_433` ja vaikuttaisi toimivan (Kali-linux):

![kuva](https://github.com/user-attachments/assets/bb033c0e-cd3d-49f4-8dfd-d65022aef483)

### c) Automaattinen analyysi

Ensiksi latasin Tero Karvisen sivulla olevan tiedoston (Converted_433.92M_2000k.cs8) ja siirryin `cd Downloads` mistä tiedosto nyt löytyy. Lähdin analysoimaan tiedostoa Converted_433.92M_2000k.cs8 `rtl_433 Converted_433.92M_2000k.cs8`.:

![kuva](https://github.com/user-attachments/assets/8bf9b07b-73d0-4047-b813-4f525a51883a)

Tuloksessa huomaan, että ID 8785315 löytyy useampia ja ainoana ID:nä. Proove-Security ja Nexa-Security tilalla ID on House Code (tunnistaa talon kaiketi). Time kertoo todennäköisesti signaalin vastaanoton. Model yritin etsiä merbanan rtl_433 githubin readme osiosta ja löysinkin sieltä "Supported Device Protocols" juurikin nämä, eli tuetut laiteprotokollat:

![kuva](https://github.com/user-attachments/assets/29875741-e61d-42ec-a8ff-2912ee75335d)

Tuloksesta näkyy myös Unit joiden arvot ovat "security" 3 ja "KlikAanKlikUit" 0. Securityt ovat myös state "off", eli ei käytössä(?) kaiken järjen mukaan. Kävin googlettamassa KlikaanKlikUit ja ensimmäisenä löytyi hollantilainen sivusto, mistä yritin suomentaa jotain:"Tekee kodista älykkään". Etsin tämän, koska epäilys Dim ja Dim value arvoista nousi epäilys, että kyseessä olisi jokin lamppu, mitä laitettiin pois päältä (command: Off) ja KlikAanKlikUit olisi jokin kaukosäädin, mistä painetaan tätä. Security malleissa myös "channel" eli kanava on 3. 

### d) Too compex 16




## Lähteet

https://terokarvinen.com/verkkoon-tunkeutuminen-ja-tiedustelu/#h3-aaltoja-harjaamassa

https://www.youtube.com/watch?v=sbqMqb6FVMY&t=199s (Hubacek 2019)

https://www.onetransistor.eu/2022/01/decode-433mhz-ask-signal.html

http://websdr.ewi.utwente.nl:8901/

https://github.com/merbanan/rtl_433
